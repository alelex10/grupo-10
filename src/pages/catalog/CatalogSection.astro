---
import CardImg from "../../components/CardImg.astro";
---

<section class="catalog">
	<h1 class="catalog__title">catalog</h1>
	<span class="catalog__container">
		<CardImg
			src="https://media.rawg.io/media/games/20a/20aa03a10cda45239fe22d035c0ebe64.jpg"
			alt="Grand Theft Auto V"
			title="Grand Theft Auto V"
			rating="4.5"
		/>
	</span>
</section>

<style>
	.catalog {
		font-family: "Gill Sans", "Gill Sans MT", Calibri, "Trebuchet MS", sans-serif;
		text-align: center;
	}

	.catalog__container {
		width: auto;
		margin: 0 auto;
		display: grid;
		justify-items: center;
		grid-template-columns: repeat(4, 1fr);
		grid-template-rows: repeat(3, 1fr);
		gap: 1rem;
	}
</style>
<script>
	import { API_KEY, BASE_URL } from "../../api/rawg";

	const $container = document.querySelector(".container");

	export async function getGames(params = "") {
		const response = await fetch(`${BASE_URL}/games?key=${API_KEY}&${params}`);
		if (!response.ok) {
			throw new Error("Error al obtener los juegos");
		}
		return await response.json();
	}

	/* 	for (let i = 1; i <= 12; i++) {
		$container.innerHTML += `
		<div class="card shadow-card">
			<img class="card-img" src="https://picsum.photos/seed/${i}/300" />
		</div>
		`;
	}

	const $cards = document.querySelectorAll(".card");
	const $cardImg = document.querySelectorAll(".card-img");

	$cards.forEach((card: HTMLDivElement) => {
		card.style.width = "100%";
		card.style.height = "100%";
		card.classList.add("shadow-card");
		card.style.boxShadow = "2px 2px 10px #000000e0";
		card.style.overflow = "hidden";
		card.style.borderRadius = "10px";
	});

	$cardImg.forEach((cardImg: HTMLImageElement) => {
		cardImg.style.width = "100%";
		cardImg.style.height = "100%";
	}); */
</script>
